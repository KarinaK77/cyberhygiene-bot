
import os
from dotenv import load_dotenv

load_dotenv()

class Config:
    TELEGRAM_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
    ADMIN_ID = int(os.getenv('ADMIN_USER_ID', 0))
    BOT_NAME = "–¢—Ä–µ–Ω–µ—Ä –ö–∏–±–µ—Ä–≥–∏–≥–∏–µ–Ω—ã"
    DEBUG = True
    
    # –ò–∑–º–µ–Ω—è–µ–º –ø—É—Ç—å –∫ –ë–î –¥–ª—è Railway
    if os.getenv('RAILWAY_ENVIRONMENT'):
        DATABASE_PATH = ':memory:'  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞–º—è—Ç—å –Ω–∞ Railway
    else:
        DATABASE_PATH = "database/bot_database.db"  # –õ–æ–∫–∞–ª—å–Ω–æ
    
    # ========== –ù–ê–°–¢–†–û–ô–ö–ò –°–ò–°–¢–ï–ú–´ –ë–ê–õ–õ–û–í ==========
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –±–∞–ª–ª–æ–≤
    SCORING_SYSTEM = {
        'lesson_completed': 10,      # –ó–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–∞
        'correct_test_answer': 5,    # –ó–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ —Ç–µ—Å—Ç–µ
        'phishing_correct': 15,      # –ó–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ñ–∏—à–∏–Ω–≥–∞
        'daily_task': 20,            # –ó–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
        'module_bonus': 50,          # –ë–æ–Ω—É—Å –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –º–æ–¥—É–ª—è
    }
    
    # –£—Ä–æ–≤–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    USER_LEVELS = {
        1: {'name': '–ù–æ–≤–∏—á–æ–∫', 'min_score': 0, 'max_score': 100},
        2: {'name': '–£—á–µ–Ω–∏–∫', 'min_score': 101, 'max_score': 300},
        3: {'name': '–ó–Ω–∞—Ç–æ–∫', 'min_score': 301, 'max_score': 600},
        4: {'name': '–≠–∫—Å–ø–µ—Ä—Ç', 'min_score': 601, 'max_score': 1000},
        5: {'name': '–ú–∞—Å—Ç–µ—Ä –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', 'min_score': 1001, 'max_score': None},
    }
    
    # –£—á–µ–±–Ω—ã–µ –º–æ–¥—É–ª–∏
    MODULES = {
        1: {
            'name': '–û—Å–Ω–æ–≤—ã —Ü–∏—Ñ—Ä–æ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏',
            'lessons': 4,
            'description': '–ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫–∏–±–µ—Ä–≥–∏–≥–∏–µ–Ω—ã'
        },
        2: {
            'name': '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏',
            'lessons': 4,
            'description': '–°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞—â–∏—Ç–∞ –ø–∞—Ä–æ–ª–µ–π'
        },
        3: {
            'name': '–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ñ–∏—à–∏–Ω–≥–∞ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏',
            'lessons': 4,
            'description': '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫'
        },
        4: {
            'name': '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤',
            'lessons': 4,
            'description': '–ó–∞—â–∏—Ç–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤'
        },
        5: {
            'name': '–ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û',
            'lessons': 4,
            'description': '–ë–æ—Ä—å–±–∞ —Å –≤–∏—Ä—É—Å–∞–º–∏ –∏ —Ç—Ä–æ—è–Ω–∞–º–∏'
        }
    }
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    @classmethod
    def validate(cls):
        if not cls.TELEGRAM_TOKEN:
            print("‚ùå –û–®–ò–ë–ö–ê: TELEGRAM_BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
            return False
        return True

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
if Config.validate():
    print("‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
    print(f"ü§ñ –ë–æ—Ç: {Config.BOT_NAME}")
